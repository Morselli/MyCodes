<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MyCodes</title>
        <link rel="stylesheet" href="../../css/global-style.css">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <header id="heading">
            <div id="titulo">
                <a href="/MyCodes/">
                    <img src="../../img/code-icon.png" alt="">
                    <h1>MyCodes</h1>
                </a>
            </div>
            <nav>
                <ul>
                    <a href="../codigos.html"><li>Códigos</li></a>
                    <a href="../../sobremim/sobre-mim.html"><li>Sobre Mim</li></a>
                    <a href="../../contato/contato.html"><li>Contato</li></a>
                </ul>
            </nav>
        </header>

        <section id="body-container">
            <div class="title-center">
                <h2>Calculadora em C</h2>
                <hr>
                <h3>Atividade proposta:</h3>
                <p>
                    Implemente em C uma calculadora com com cinco operações entre dois valores de entrada. 
                    As quatro operações básicas da matemática (divisão, multiplicação, subtração e soma) e 
                    mais uma que seria como se fosse uma memória, ou seja, o usuário poderia aproveitar o 
                    resultado obtido em uma operação anterior (se houver), em uma nova operação:<br><br>

                    Ex: Supondo que o usuário tenha escolhido o dois valores, 4 e 3 e optado pela soma, 
                    o resultado será 7. Em uma nova operação, ele deverá escolher se deseja reaproveitar 
                    esse valor 7 para compor um novo calculo ou entrar com novos dois valores. 
                </p>
                <hr>
                <pre>
                    <code>
#include "stdio.h"
#include "locale.h"
#include "iostream"
                            
float n1, n2, resultado;
char operacao, memoriaResultado, novaOperacao;
                            
char selecionarOperacao();
void mostrarResultado();
float calcSoma(float x, float y);
float calcSubtracao(float x, float y);
float calcMultiplicacao(float x, float y);
float calcDivisao(float x, float y);
                    
int main()
{
    setlocale(LC_ALL, "Portuguese");
    do {
        if (memoriaResultado == 's') {
            n1 = resultado;
        }
        else {
            printf("Digite o primeiro valor: ");
            scanf("%f", &n1);
            fflush(stdin);
        }
        printf("Digite o segundo valor: ");
        scanf("%f", &n2);
        fflush(stdin);
        printf("\n");
        do {
            selecionarOperacao();
            mostrarResultado();
            fflush(stdin);
        } while (operacao != '+' && 
                 operacao != '-' && 
                 operacao != 'x' && 
                 operacao != '/');
        do {
            printf("Deseja realizar uma nova operação?\n 
                    Digite 's' para SIM ou 'n' para NÃO: ");
            scanf("%c", &novaOperacao);
            printf("\n");
            fflush(stdin);
            if (novaOperacao == 's') {
                do {
                    printf("Deseja utilizar o último 
                            resultado em uma nova operação?\n 
                            Digite 's' para SIM ou 'n' para NÃO: ");
                    scanf("%c", &memoriaResultado);
                    printf("\n");
                    fflush(stdin);
                    if (memoriaResultado != 's' && 
                        memoriaResultado != 'n') {
                        printf("Opção inválida. Tente novamente.\n\n");
                    }
                } while (memoriaResultado != 's' &&
                         memoriaResultado != 'n');
            } else if (novaOperacao == 'n') {
                system("PAUSE");
            } else {
                printf("Opção inválida. Tente novamente.\n\n");
            }
        } while (novaOperacao != 's' && novaOperacao != 'n');
    } while (novaOperacao == 's');
}

char selecionarOperacao()
{
    printf("Escolha uma operação. \n Digite: \n '+' - para soma \n 
                                                '-' - para subtração \n 
                                                'x' - para multiplicação \n 
                                                '/' - para divisão: ");
    scanf("%c", &operacao);
    printf("\n");
    return operacao;
}

void mostrarResultado()
{
    if (operacao == '+') {
        resultado = calcSoma(n1, n2);
        printf("Resultado: %3.2f\n\n", resultado);
    }
    else if (operacao == '-') {
        resultado = calcSubtracao(n1, n2);
        printf("Resultado: %3.2f\n\n", resultado);
    }
    else if (operacao == 'x') {
        resultado = calcMultiplicacao(n1, n2);
        printf("Resultado: %3.2f\n\n", resultado);
    }
    else if (operacao == '/') {
        resultado = calcDivisao(n1, n2);
        printf("Resultado: %3.2f\n\n", resultado);
    }
    else {
        printf("Erro. Selecione uma operação válida.\n\n");
    }
}

float calcSoma(float x, float y)
{
    float soma;
    soma = x + y;
    return soma;
}

float calcSubtracao(float x, float y)
{
    float subtracao;
    subtracao = x - y;
    return subtracao;
}

float calcMultiplicacao(float x, float y)
{
    float multiplicacao;
    multiplicacao = x * y;
    return multiplicacao;
}

float calcDivisao(float x, float y)
{
    float divisao;
    divisao = x / y;
    return divisao;
}
                    </code>
                </pre>
            </div>
        </section>

        <footer id="ending">
            <p>Desenvolvido por <a href="https://www.linkedin.com/in/vinicius-morselli-53967617b/" target="_blank"><u>Vinicius Morselli</u></a>, 2021.</p>
        </footer>   

    </body>
</html>